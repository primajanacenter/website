<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Simulasi Psikotes - Tes Logika Penalaran (Tingkat Tinggi)</title>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            background-color: #e0f2f7; /* Nuansa biru muda untuk background */
            margin: 0;
            padding: 0;
        }
        header {
            background: #FFFFFF;
            padding: 20px;
            border-bottom: 4px solid #99ccff; /* Nuansa biru untuk border bawah header */
            position: relative;
        }
        header img {
            height: 60px;
            float: left;
            margin-right: 15px;
        }
        header h1 {
            margin: 0;
            font-size: 20px;
            color: #000000;
        }
        .info-bar {
            position: absolute;
            right: 20px;
            top: 20px;
            display: flex;
            gap: 10px;
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 5px;
            align-items: center;
        }
        .info-item {
            text-align: center;
            padding: 5px 10px;
        }
        .info-item strong { display: block; }
        .container {
            padding: 20px;
            max-width: 1000px;
            margin: auto;
        }
        .user-info {
            background: #e6f7ff; /* Nuansa biru sangat muda */
            padding: 15px;
            border: 1px solid #b3e0ff; /* Nuansa biru untuk border */
            margin-bottom: 20px;
        }
        .soal-box {
            background: #fff;
            border: 1px solid #b3e0ff; /* Nuansa biru untuk border */
            padding: 20px;
            margin-bottom: 20px;
        }
        .option { margin: 10px 0; }
        .button-group {
            margin-top: 20px;
        }
        .button-group button {
            padding: 10px 15px;
            border: none;
            margin-right: 10px;
            cursor: pointer;
            background: #007bff; /* Biru cerah untuk tombol utama */
            color: white;
            border-radius: 5px;
        }
        .grid-navigasi {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 20px;
        }
        .grid-navigasi button {
            width: 35px;
            height: 35px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        .green { background: #16a34a; color: white; } /* Tetap hijau untuk dijawab */
        /* Mengubah warna merah menjadi nuansa biru untuk tombol "belum dijawab" */
        .red { background: #5a82b0; color: white; } /* Nuansa biru gelap untuk belum dijawab */
        #timer-box {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #0056b3; /* Biru gelap untuk timer */
            color: white;
            font-size: 24px;
            padding: 10px 20px;
            border-radius: 8px;
        }
        .section-nav {
            margin-bottom: 10px;
            display: flex;
            gap: 10px;
        }
        
        #btn-kirim {
            background-color: #007bff; /* Biru cerah untuk tombol kirim */
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            display: none; /* hanya muncul saat semua soal dijawab */
        }

        /* Mengubah warna teks "Belum Dijawab" menjadi nuansa biru gelap */
        .info-item.belum-dijawab {
            color: #0056b3 !important; /* Biru gelap yang sama dengan timer */
        }

    </style>
</head>
<body onload="initApp()">
    <header>
        <img src="https://res.cloudinary.com/djexglfns/image/upload/v1754976459/WhatsApp_Image_2025-08-12_at_1.15.37_PM-removebg-preview_ipix4s.png" alt="BKN Primajana Education">
        <h1>SIMULASI PSIKOTES<br>Tes Logika Penalaran</h1>
        <div class="info-bar">
            <div class="info-item"><strong>Batas Waktu</strong>60</div>
            <div class="info-item"><strong>Jumlah Soal</strong>50</div>
            <div class="info-item" style="color: green"><strong>Soal Dijawab</strong><span id="dijawab">0</span></div>
            <div class="info-item" style="color: #3399ff"><strong>Belum Dijawab</strong><span id="belum">50</span></div>
            <button id="btn-selesai" onclick="konfirmasiSelesai()">Selesai Ujian</button>
        </div>
    </header>

    <div class="container">
        <div class="user-info">
            <p><strong>Nama Peserta</strong>: <span id="namaPeserta">-</span></p>
            <p><strong>Email</strong>: <span id="emailPeserta">-</span></p>
        </div>

        <div class="soal-box">
            <div id="soalTeks">Soal akan muncul di sini.</div>
            <div id="opsi"></div>
            <div class="section-nav" id="navSection"></div>
            <div class="button-group">
                <button onclick="simpanDanLanjut()">Simpan dan Lanjutkan</button>
                <button onclick="lewati()">Lewatkan soal ini</button>
                <button id="btn-kirim" onclick="kirimJawaban()">Kirim Jawaban</button>
            </div>
        </div>

        <div class="grid-navigasi" id="navigasi"></div>
    </div>

    <div id="timer-box"><span id="timer">01:00:00</span></div>

    <script>
        const soal = [];

        function acakPilihan(jawabanBenar, opsi) {
            const jawabanBenarIndex = jawabanBenar;
            const opsiAcak = [...opsi];
            for (let i = opsiAcak.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [opsiAcak[i], opsiAcak[j]] = [opsiAcak[j], opsiAcak[i]];
            }
            const jawabanBenarSetelahAcak = opsiAcak.indexOf(opsi[jawabanBenarIndex]);
            return { opsiAcak, jawabanBenarSetelahAcak };
        }

        // Soal Tes Logika Penalaran (Non-Verbal/Deret Kompleks)
        soal.push(
            {
                tanya: "Perhatikan deret angka berikut: 1, 3, 7, 15, 31, ... Berapakah angka selanjutnya?",
                opsi: ["60", "61", "62", "63", "64"],
                jawaban: 3, // 63 (pola +2, +4, +8, +16, +32 -> 2^n)
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: A, C, F, J, O, ...",
                opsi: ["U", "V", "W", "X", "Y"],
                jawaban: 0, // U (pola +2, +3, +4, +5, +6)
                jenis: "TIU"
            },
            {
                tanya: "Manakah gambar selanjutnya dalam deret ini?<br><img src='https://via.placeholder.com/100x50?text=Pola1_1' alt='Pola 1.1'><img src='https://via.placeholder.com/100x50?text=Pola1_2' alt='Pola 1.2'><img src='https://via.placeholder.com/100x50?text=Pola1_3' alt='Pola 1.3'><img src='https://via.placeholder.com/100x50?text=Pola1_4' alt='Pola 1.4'>",
                opsi: ["<img src='https://via.placeholder.com/100x50?text=Opsi1A' alt='Opsi A'>", "<img src='https://via.placeholder.com/100x50?text=Opsi1B' alt='Opsi B'>", "<img src='https://via.placeholder.com/100x50?text=Opsi1C' alt='Opsi C'>", "<img src='https://via.placeholder.com/100x50?text=Opsi1D' alt='Opsi D'>", "<img src='https://via.placeholder.com/100x50?text=Opsi1E' alt='Opsi E'>"],
                jawaban: 0, // Placeholder - asumsikan ini opsi yang benar
                jenis: "TIU"
            },
            {
                tanya: "Deret: 2, 6, 12, 20, 30, ... Berapakah angka selanjutnya?",
                opsi: ["40", "42", "44", "46", "48"],
                jawaban: 1, // 42 (pola +4, +6, +8, +10, +12)
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: Z, X, V, T, R, ...",
                opsi: ["P", "Q", "S", "U", "V"],
                jawaban: 0, // P (pola -2)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 4, 2, 8, 3, 12, ... Berapakah angka selanjutnya?",
                opsi: ["4", "5", "16", "24", "36"],
                jawaban: 0, // 4 (pola bergantian: +3, -2, +6, -5, +9, -8 -> (n*3), - (n*3-2))
                // Koreksi: 1 (+3) 4 (-2) 2 (+6) 8 (-5) 3 (+9) 12 (-8) -> 4 (pola +3, -2, +6, -5, +9, -8. Atau 1,2,3,4... dan 4,8,12,16...)
                jawaban: 0, // 4
                jenis: "TIU"
            },
            {
                tanya: "Perhatikan pola: 12, 11, 13, 12, 14, 13, ... Berapakah angka selanjutnya?",
                opsi: ["14", "15", "16", "17", "18"],
                jawaban: 1, // 15 (pola -1, +2, -1, +2, -1, +2)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 5, 7, 11, 17, 25, ... Berapakah angka selanjutnya?",
                opsi: ["33", "34", "35", "36", "37"],
                jawaban: 3, // 35 (pola +2, +4, +6, +8, +10)
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: B, D, G, K, P, ...",
                opsi: ["U", "V", "W", "X", "Y"],
                jawaban: 0, // U (pola +2, +3, +4, +5, +6)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 8, 27, 64, ... Berapakah angka selanjutnya?",
                opsi: ["100", "125", "144", "216", "256"],
                jawaban: 1, // 125 (bilangan kubik: 1^3, 2^3, 3^3, 4^3, 5^3)
                jenis: "TIU"
            },
            {
                tanya: "Pola: 1, 1, 2, 3, 5, 8, ... Berapakah angka selanjutnya?",
                opsi: ["11", "12", "13", "14", "15"],
                jawaban: 2, // 13 (Fibonacci)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 5, 11, 19, 29, ... Berapakah angka selanjutnya?",
                opsi: ["39", "40", "41", "42", "43"],
                jawaban: 2, // 41 (pola +4, +6, +8, +10, +12)
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: C, F, I, L, O, ...",
                opsi: ["R", "S", "T", "U", "V"],
                jawaban: 0, // R (pola +3)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 3, 7, 15, 31, 63, ... Berapakah angka selanjutnya?",
                opsi: ["125", "126", "127", "128", "129"],
                jawaban: 2, // 127 (pola 2^n - 1)
                jenis: "TIU"
            },
            {
                tanya: "Pola: 4, 16, 36, 64, ... Berapakah angka selanjutnya?",
                opsi: ["81", "100", "121", "144", "169"],
                jawaban: 1, // 100 (kuadrat dari bilangan genap: 2^2, 4^2, 6^2, 8^2, 10^2)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 2, 4, 8, 16, 32, ... Berapakah angka selanjutnya?",
                opsi: ["48", "60", "64", "72", "80"],
                jawaban: 2, // 64 (pola x2)
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: D, G, J, M, P, ...",
                opsi: ["Q", "R", "S", "T", "U"],
                jawaban: 0, // S (pola +3)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 100, 99, 95, 86, 70, ... Berapakah angka selanjutnya?",
                opsi: ["40", "45", "50", "55", "60"],
                jawaban: 1, // 45 (pola -1, -4, -9, -16, -25 -> kuadrat bilangan asli)
                jenis: "TIU"
            },
            {
                tanya: "Pola: 1, 2, 6, 24, 120, ... Berapakah angka selanjutnya?",
                opsi: ["360", "480", "600", "720", "840"],
                jawaban: 3, // 720 (faktorial: 1!, 2!, 3!, 4!, 5!, 6!)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 5, 6, 10, 19, 35, ... Berapakah angka selanjutnya?",
                opsi: ["50", "55", "60", "65", "70"],
                jawaban: 2, // 60 (pola +1, +4, +9, +16, +25 -> kuadrat bilangan asli)
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: E, J, O, T, Y, ...",
                opsi: ["C", "D", "E", "Z", "A"],
                jawaban: 0, // D (pola +5, setelah Y kembali ke A, B, C, D)
                // Koreksi: E (+5) J (+5) O (+5) T (+5) Y (+5) D (setelah Y, kembali ke A, B, C, D)
                jawaban: 1, // D (E(5), J(10), O(15), T(20), Y(25). Y+5 = Z, A, B, C, D)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 2, 5, 10, 17, 26, ... Berapakah angka selanjutnya?",
                opsi: ["35", "36", "37", "38", "39"],
                jawaban: 2, // 37 (pola +1, +3, +5, +7, +9, +11)
                jenis: "TIU"
            },
            {
                tanya: "Pola: 10, 20, 15, 30, 25, 50, ... Berapakah angka selanjutnya?",
                opsi: ["35", "40", "45", "55", "60"],
                jawaban: 2, // 45 (pola x2, -5, x2, -5, x2, -5)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 7, 10, 14, 19, 25, ... Berapakah angka selanjutnya?",
                opsi: ["30", "31", "32", "33", "34"],
                jawaban: 2, // 32 (pola +3, +4, +5, +6, +7)
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: 2, 3, 5, 7, 11, ...",
                opsi: ["12", "13", "14", "15", "16"],
                jawaban: 1, // 13 (bilangan prima)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 1/2, 1/4, 1/8, ... Berapakah angka selanjutnya?",
                opsi: ["1/10", "1/12", "1/14", "1/16", "1/18"],
                jawaban: 3, // 1/16 (pola dibagi 2 atau dikali 1/2)
                jenis: "TIU"
            },
            {
                tanya: "Pola: 64, 32, 16, 8, ... Berapakah angka selanjutnya?",
                opsi: ["2", "3", "4", "5", "6"],
                jawaban: 2, // 4 (pola dibagi 2)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 9, 16, 25, 36, ... Berapakah angka selanjutnya?",
                opsi: ["42", "45", "49", "54", "60"],
                jawaban: 2, // 49 (kuadrat bilangan asli: 3^2, 4^2, 5^2, 6^2, 7^2)
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: M, K, I, G, E, ...",
                opsi: ["A", "B", "C", "D", "F"],
                jawaban: 2, // C (pola -2)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 3, 5, 9, 17, 33, ... Berapakah angka selanjutnya?",
                opsi: ["60", "65", "67", "69", "71"],
                jawaban: 2, // 65 (pola x2 - 1)
                // Koreksi: 3x2-1 = 5, 5x2-1 = 9, 9x2-1 = 17, 17x2-1 = 33, 33x2-1 = 65.
                jawaban: 1, // 65
                jenis: "TIU"
            },
            {
                tanya: "Pola: 1, 4, 9, 16, ... Berapakah angka selanjutnya?",
                opsi: ["20", "25", "30", "36", "49"],
                jawaban: 1, // 25 (kuadrat bilangan asli)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 2, 3, 6, 11, 18, ... Berapakah angka selanjutnya?",
                opsi: ["27", "28", "29", "30", "31"],
                jawaban: 2, // 27 (pola +1, +3, +5, +7, +9)
                // Koreksi: 2 (+1) 3 (+3) 6 (+5) 11 (+7) 18 (+9) 27
                jawaban: 0, // 27
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: A, B, D, G, K, ...",
                opsi: ["O", "P", "Q", "R", "S"],
                jawaban: 2, // P (pola +1, +2, +3, +4, +5)
                // Koreksi: A(+1)B(+2)D(+3)G(+4)K(+5)P
                jawaban: 1, // P
                jenis: "TIU"
            },
            {
                tanya: "Deret: 4, 9, 19, 39, ... Berapakah angka selanjutnya?",
                opsi: ["79", "80", "81", "82", "83"],
                jawaban: 0, // 79 (pola x2 + 1)
                jenis: "TIU"
            },
            {
                tanya: "Pola: 1, 3, 4, 7, 11, ... Berapakah angka selanjutnya?",
                opsi: ["15", "16", "17", "18", "19"],
                jawaban: 2, // 18 (penjumlahan 2 angka sebelumnya, 1+3=4, 3+4=7, 4+7=11, 7+11=18)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 5, 2, 10, 3, 15, ... Berapakah angka selanjutnya?",
                opsi: ["4", "5", "20", "25", "30"],
                jawaban: 0, // 4 (pola bergantian: +4, -3, +8, -7, +12, -11)
                // Koreksi: 1,2,3,4... dan 5,10,15,20...
                jawaban: 0, // 4
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: AZ, BY, CX, DW, ...",
                opsi: ["EV", "FV", "EU", "FU", "EV"],
                jawaban: 0, // EV (huruf pertama naik, huruf kedua turun)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 2, 4, 7, 11, 16, ... Berapakah angka selanjutnya?",
                opsi: ["20", "21", "22", "23", "24"],
                jawaban: 2, // 22 (pola +1, +2, +3, +4, +5, +6)
                jenis: "TIU"
            },
            {
                tanya: "Pola: 2, 6, 18, 54, ... Berapakah angka selanjutnya?",
                opsi: ["108", "152", "162", "172", "180"],
                jawaban: 2, // 162 (pola x3)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 5, 8, 13, 21, 34, ... Berapakah angka selanjutnya?",
                opsi: ["45", "50", "55", "58", "60"],
                jawaban: 2, // 55 (Fibonacci)
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: AA, BB, CC, DD, ...",
                opsi: ["EE", "FF", "GG", "HH", "II"],
                jawaban: 0, // EE
                jenis: "TIU"
            },
            {
                tanya: "Deret: 2, 4, 7, 11, 16, 22, ... Berapakah angka selanjutnya?",
                opsi: ["28", "29", "30", "31", "32"],
                jawaban: 2, // 29 (pola +2, +3, +4, +5, +6, +7)
                // Koreksi: 2 (+2) 4 (+3) 7 (+4) 11 (+5) 16 (+6) 22 (+7) 29
                jawaban: 1, // 29
                jenis: "TIU"
            },
            {
                tanya: "Pola: 1, 2, 3, 5, 8, 13, ... Berapakah angka selanjutnya?",
                opsi: ["18", "20", "21", "22", "24"],
                jawaban: 2, // 21 (Fibonacci)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 10, 11, 13, 16, 20, 25, ... Berapakah angka selanjutnya?",
                opsi: ["30", "31", "32", "33", "34"],
                jawaban: 1, // 31 (pola +1, +2, +3, +4, +5, +6)
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: AC, EG, IK, MO, ...",
                opsi: ["QS", "PR", "QR", "RS", "ST"],
                jawaban: 0, // QS (setiap huruf melompati 1 huruf, dan pasangan melompati 1 huruf)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 2, 3, 5, 8, 13, 21, ... Berapakah angka selanjutnya?",
                opsi: ["30", "32", "34", "36", "38"],
                jawaban: 2, // 34 (Fibonacci)
                jenis: "TIU"
            },
            {
                tanya: "Pola: 10, 9, 7, 4, 0, ... Berapakah angka selanjutnya?",
                opsi: ["-1", "-3", "-5", "-6", "-7"],
                jawaban: 2, // -5 (pola -1, -2, -3, -4, -5)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 3, 4, 6, 9, 13, 18, ... Berapakah angka selanjutnya?",
                opsi: ["22", "23", "24", "25", "26"],
                jawaban: 2, // 24 (pola +1, +2, +3, +4, +5, +6)
                // Koreksi: 3 (+1) 4 (+2) 6 (+3) 9 (+4) 13 (+5) 18 (+6) 24
                jawaban: 3, // 24
                jenis: "TIU"
            },
            {
                tanya: "Lanjutkan pola: 1, 1, 2, 4, 8, 16, ...",
                opsi: ["24", "28", "30", "32", "36"],
                jawaban: 3, // 32 (pola x1, x2, x2, x2, x2)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 3, 6, 10, 15, ... Berapakah angka selanjutnya?",
                opsi: ["20", "21", "22", "23", "24"],
                jawaban: 1, // 21 (bilangan segitiga: +2, +3, +4, +5, +6)
                jenis: "TIU"
            }
        );

        // Menyesuaikan jumlah soal di info-bar
        const totalSoal = soal.length;
        document.querySelector('.info-bar .info-item:nth-child(2) strong').textContent = 'Jumlah Soal';
        document.querySelector('.info-bar .info-item:nth-child(2)').childNodes[1].textContent = totalSoal;
        document.getElementById("belum").textContent = totalSoal;

        let indeks = 0;
        const jawaban = new Array(soal.length).fill(null);
        let waktuTersisa = 60 * 60; // 60 menit
        let interval;

        function initApp() {
            loadPeserta();
            tampilkanSoal();
            mulaiTimer(waktuTersisa);
        }

        function loadPeserta() {
            const data = JSON.parse(localStorage.getItem("dataPeserta"));
            if (data) {
                document.getElementById("namaPeserta").textContent = data.nama;
                document.getElementById("emailPeserta").textContent = data.email;
            }
        }

        function tampilkanSoal() {
            const s = soal[indeks];
            let opsiHTML = '';
            
            // Logika acak pilihan untuk TIU
            const { opsiAcak, jawabanBenarSetelahAcak } = acakPilihan(s.jawaban, s.opsi);
            s.opsi = opsiAcak;
            s.jawaban = jawabanBenarSetelahAcak;

            opsiHTML = s.opsi.map((o, i) => `
                <div class="option">
                    <label><input type="radio" name="opsi" value="${i}" ${jawaban[indeks] === i ? "checked" : ""}> ${o}</label>
                </div>`).join('');
            
            document.getElementById("soalTeks").innerHTML = `<strong>Soal No. ${indeks + 1} (${s.jenis})</strong><br>${s.tanya}`;
            document.getElementById("opsi").innerHTML = opsiHTML;
            updateNavigasi();
            updateNavSection();
            updateCounter();
        }

        function simpanDanLanjut() {
            const pilih = document.querySelector('input[name="opsi"]:checked');
            if (pilih) jawaban[indeks] = parseInt(pilih.value);
            if (indeks < soal.length - 1) indeks++;
            tampilkanSoal();
        }

        function lewati() {
            if (indeks < soal.length - 1) indeks++;
            tampilkanSoal();
        }

        function navigasiKe(i) {
            indeks = i;
            tampilkanSoal();
        }

        function updateNavigasi() {
            const nav = soal.map((_, i) => `
                <button class="${jawaban[i] !== null ? 'green' : 'red'}" onclick="navigasiKe(${i})">${i + 1}</button>
            `).join('');
            document.getElementById("navigasi").innerHTML = nav;
        }

        function updateNavSection() {
            const sectionNav = [];
            // Hanya ada TIU sekarang
            const sections = ['TIU'];
            sections.forEach((jenis) => {
                const sectionSoal = soal.filter(s => s.jenis === jenis);
                const button = `<button onclick="filterSoal('${jenis}')">${jenis} (${sectionSoal.length})</button>`;
                sectionNav.push(button);
            });
            document.getElementById("navSection").innerHTML = sectionNav.join(' ');
        }

        function updateCounter() {
            const dijawab = jawaban.filter(j => j !== null).length;
            const belum = soal.length - dijawab;
            document.getElementById("dijawab").textContent = dijawab;
            document.getElementById("belum").textContent = belum;

            const btnKirim = document.getElementById("btn-kirim");
            if (belum === 0) {
                btnKirim.style.display = "inline-block";
            } else {
                btnKirim.style.display = "none";
            }
        }

        function filterSoal(jenis) {
            for (let i = 0; i < soal.length; i++) {
                if (soal[i].jenis === jenis) {
                    navigasiKe(i);
                    break;
                }
            }
        }

        function mulaiTimer(waktu) {
            interval = setInterval(function() {
                if (waktu <= 0) {
                    clearInterval(interval);
                    alert("Waktu habis!");
                    konfirmasiSelesai();
                    return;
                }
                waktu--;
                const menit = Math.floor(waktu / 60);
                const detik = waktu % 60;
                document.getElementById("timer").textContent = `${String(menit).padStart(2, '0')}:${String(detik).padStart(2, '0')}`;
            }, 1000);
        }

        function konfirmasiSelesai() {
            if (confirm("Apakah Anda yakin ingin menyelesaikan ujian?")) {
                clearInterval(interval);
                const dataPeserta = JSON.parse(localStorage.getItem("dataPeserta")) || { nama: "-", email: "-" };
                let skorTIU = 0;

                soal.forEach((s, i) => {
                    const jwb = jawaban[i];
                    if (s.jenis === "TIU") {
                        if (jwb === s.jawaban) {
                            skorTIU += 5; // Setiap soal TIU bernilai 5 poin
                        }
                    }
                });

                const hasilUjian = {
                    nama: dataPeserta.nama,
                    email: dataPeserta.email,
                    skorTIU,
                    total: skorTIU // Total skor hanya dari TIU
                };
                localStorage.setItem("hasilUjian", JSON.stringify(hasilUjian));
                window.location.href = "hasil.html";
            }
        }
        
        function kirimJawaban() {
            if (confirm("Semua soal telah dijawab. Kirim jawaban dan lihat hasil?")) {
                clearInterval(interval); // hentikan timer
                const dataPeserta = JSON.parse(localStorage.getItem("dataPeserta")) || { nama: "-", email: "-" };
                let skorTIU = 0;

                soal.forEach((s, i) => {
                    const jwb = jawaban[i];
                    if (s.jenis === "TIU") {
                        if (jwb === s.jawaban) {
                            skorTIU += 5;
                        }
                    }
                });

                const hasilUjian = {
                    nama: dataPeserta.nama,
                    email: dataPeserta.email,
                    skorTIU,
                    total: skorTIU
                };

                localStorage.setItem("hasilUjian", JSON.stringify(hasilUjian));
                window.location.href = "hasil.html";
            }
        }

        localStorage.setItem("paketSoal", "paket1.html");
        
    </script>
</body>
</html>
