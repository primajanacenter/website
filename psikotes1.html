<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Simulasi Psikotes - Tes Logika Aritmatika</title>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            background-color: #e0f2f7; /* Nuansa biru muda untuk background */
            margin: 0;
            padding: 0;
        }
        header {
            background: #FFFFFF;
            padding: 20px;
            border-bottom: 4px solid #99ccff; /* Nuansa biru untuk border bawah header */
            position: relative;
        }
        header img {
            height: 60px;
            float: left;
            margin-right: 15px;
        }
        header h1 {
            margin: 0;
            font-size: 20px;
            color: #000000;
        }
        .info-bar {
            position: absolute;
            right: 20px;
            top: 20px;
            display: flex;
            gap: 10px;
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 5px;
            align-items: center;
        }
        .info-item {
            text-align: center;
            padding: 5px 10px;
        }
        .info-item strong { display: block; }
        .container {
            padding: 20px;
            max-width: 1000px;
            margin: auto;
        }
        .user-info {
            background: #e6f7ff; /* Nuansa biru sangat muda */
            padding: 15px;
            border: 1px solid #b3e0ff; /* Nuansa biru untuk border */
            margin-bottom: 20px;
        }
        .soal-box {
            background: #fff;
            border: 1px solid #b3e0ff; /* Nuansa biru untuk border */
            padding: 20px;
            margin-bottom: 20px;
        }
        .option { margin: 10px 0; }
        .button-group {
            margin-top: 20px;
        }
        .button-group button {
            padding: 10px 15px;
            border: none;
            margin-right: 10px;
            cursor: pointer;
            background: #007bff; /* Biru cerah untuk tombol utama */
            color: white;
            border-radius: 5px;
        }
        .grid-navigasi {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 20px;
        }
        .grid-navigasi button {
            width: 35px;
            height: 35px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        .green { background: #16a34a; color: white; } /* Tetap hijau untuk dijawab */
        /* Mengubah warna merah menjadi nuansa biru untuk tombol "belum dijawab" */
        .red { background: #5a82b0; color: white; } /* Nuansa biru gelap untuk belum dijawab */
        #timer-box {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #0056b3; /* Biru gelap untuk timer */
            color: white;
            font-size: 24px;
            padding: 10px 20px;
            border-radius: 8px;
        }
        .section-nav {
            margin-bottom: 10px;
            display: flex;
            gap: 10px;
        }
        
        #btn-kirim {
            background-color: #007bff; /* Biru cerah untuk tombol kirim */
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            display: none; /* hanya muncul saat semua soal dijawab */
        }

        /* Mengubah warna teks "Belum Dijawab" menjadi nuansa biru gelap */
        .info-item.belum-dijawab {
            color: #0056b3 !important; /* Biru gelap yang sama dengan timer */
        }

    </style>
</head>
<body onload="initApp()">
    <header>
        <img src="https://res.cloudinary.com/djexglfns/image/upload/v1754976459/WhatsApp_Image_2025-08-12_at_1.15.37_PM-removebg-preview_ipix4s.png" alt="BKN Primajana Education">
        <h1>SIMULASI PSIKOTES<br>Tes Logika Aritmatika</h1>
        <div class="info-bar">
            <div class="info-item"><strong>Batas Waktu</strong>60</div>
            <div class="info-item"><strong>Jumlah Soal</strong>50</div>
            <div class="info-item" style="color: green"><strong>Soal Dijawab</strong><span id="dijawab">0</span></div>
            <div class="info-item" style="color: #3399ff"><strong>Belum Dijawab</strong><span id="belum">50</span></div>
            <button id="btn-selesai" onclick="konfirmasiSelesai()">Selesai Ujian</button>
        </div>
    </header>

    <div class="container">
        <div class="user-info">
            <p><strong>Nama Peserta</strong>: <span id="namaPeserta">-</span></p>
            <p><strong>Email</strong>: <span id="emailPeserta">-</span></p>
        </div>

        <div class="soal-box">
            <div id="soalTeks">Soal akan muncul di sini.</div>
            <div id="opsi"></div>
            <div class="section-nav" id="navSection"></div>
            <div class="button-group">
                <button onclick="simpanDanLanjut()">Simpan dan Lanjutkan</button>
                <button onclick="lewati()">Lewatkan soal ini</button>
                <button id="btn-kirim" onclick="kirimJawaban()">Kirim Jawaban</button>
            </div>
        </div>

        <div class="grid-navigasi" id="navigasi"></div>
    </div>

    <div id="timer-box"><span id="timer">01:00:00</span></div>

    <script>
        const soal = [];

        function acakPilihan(jawabanBenar, opsi) {
            const jawabanBenarIndex = jawabanBenar;
            const opsiAcak = [...opsi];
            for (let i = opsiAcak.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [opsiAcak[i], opsiAcak[j]] = [opsiAcak[j], opsiAcak[i]];
            }
            const jawabanBenarSetelahAcak = opsiAcak.indexOf(opsi[jawabanBenarIndex]);
            return { opsiAcak, jawabanBenarSetelahAcak };
        }

        // Soal Tes Logika Aritmatika (TIU)
        // Total 50 soal untuk fokus pada Logika Aritmatika
        soal.push(
            {
                tanya: "Jika $A = 3B$, $B = 2C$, dan $A + B + C = 60$, berapakah nilai $A$?",
                opsi: ["10", "20", "30", "36", "40"],
                jawaban: 4, // 40
                jenis: "TIU"
            },
            {
                tanya: "Seorang pedagang membeli 50 kg beras seharga Rp 500.000. Jika 10% beras busuk, dan sisanya dijual dengan keuntungan 20%, berapakah harga jual per kg beras yang tidak busuk?",
                opsi: ["Rp 12.500", "Rp 13.333", "Rp 13.750", "Rp 14.200", "Rp 15.000"],
                jawaban: 2, // Rp 13.750
                jenis: "TIU"
            },
            {
                tanya: "Sebuah pipa dapat mengisi bak mandi dalam 10 menit. Pipa lain dapat mengisi bak mandi yang sama dalam 15 menit. Berapa lama waktu yang dibutuhkan jika kedua pipa digunakan bersama-sama?",
                opsi: ["5 menit", "6 menit", "7.5 menit", "8 menit", "12.5 menit"],
                jawaban: 1, // 6 menit
                jenis: "TIU"
            },
            {
                tanya: "Deret: 2, 5, 10, 17, 26, ... Berapakah angka selanjutnya?",
                opsi: ["35", "37", "39", "41", "43"],
                jawaban: 3, // 37
                jenis: "TIU"
            },
            {
                tanya: "Jika $x$ adalah bilangan bulat positif, dan $x^2 < 50$, berapa nilai maksimum $x$?",
                opsi: ["6", "7", "8", "9", "10"],
                jawaban: 1, // 7
                jenis: "TIU"
            },
            {
                tanya: "Perbandingan usia ayah dan anak adalah 5:2. Jika selisih usia mereka 24 tahun, berapakah usia anak?",
                opsi: ["8 tahun", "12 tahun", "16 tahun", "20 tahun", "24 tahun"],
                jawaban: 2, // 16 tahun
                jenis: "TIU"
            },
            {
                tanya: "Seutas tali dipotong menjadi dua bagian. Bagian pertama 3 kali lebih panjang dari bagian kedua. Jika panjang total tali adalah 80 cm, berapakah panjang bagian terpendek?",
                opsi: ["15 cm", "20 cm", "25 cm", "30 cm", "40 cm"],
                jawaban: 1, // 20 cm
                jenis: "TIU"
            },
            {
                tanya: "Seorang pekerja dapat menyelesaikan pekerjaan dalam 8 jam. Pekerja lain dapat menyelesaikan pekerjaan yang sama dalam 12 jam. Berapa lama waktu yang dibutuhkan jika mereka bekerja bersama-sama?",
                opsi: ["4 jam", "4.8 jam", "5 jam", "6 jam", "10 jam"],
                jawaban: 1, // 4.8 jam
                jenis: "TIU"
            },
            {
                tanya: "Jika $P = 0.6 \times 40$ dan $Q = 2/5 \times 70$, maka hubungan antara $P$ dan $Q$ adalah...",
                opsi: ["P > Q", "P < Q", "P = Q", "P = 2Q", "Q = 2P"],
                jawaban: 2, // P = Q (P=24, Q=28) -> Jawaban harusnya P < Q
                // Koreksi: P = 0.6 * 40 = 24; Q = (2/5) * 70 = 2 * 14 = 28. Jadi P < Q.
                jawaban: 1, // P < Q
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 4, 9, 16, 25, ... Berapakah angka selanjutnya?",
                opsi: ["30", "36", "49", "64", "81"],
                jawaban: 1, // 36
                jenis: "TIU"
            },
            {
                tanya: "Jika harga sebuah buku naik 20%, dan kemudian turun 10%, berapakah perubahan harga bersihnya?",
                opsi: ["Naik 8%", "Naik 10%", "Turun 2%", "Tidak berubah", "Naik 12%"],
                jawaban: 0, // Naik 8%
                jenis: "TIU"
            },
            {
                tanya: "Sebuah mobil menempuh jarak 180 km dalam 3 jam. Jika kecepatan rata-rata ditingkatkan 10 km/jam, berapa waktu yang dibutuhkan untuk menempuh jarak yang sama?",
                opsi: ["2 jam", "2.5 jam", "2.75 jam", "3 jam", "3.5 jam"],
                jawaban: 2, // 2.75 jam
                jenis: "TIU"
            },
            {
                tanya: "Berapakah nilai dari $15\% \text{ dari } 200 + 20\% \text{ dari } 150$?",
                opsi: ["30", "40", "50", "60", "70"],
                jawaban: 3, // 60
                jenis: "TIU"
            },
            {
                tanya: "Jika $2A = 3B$ dan $4B = 5C$, berapakah perbandingan $A:C$?",
                opsi: ["5:6", "6:5", "10:12", "15:8", "8:15"],
                jawaban: 3, // 15:8
                jenis: "TIU"
            },
            {
                tanya: "Deret: 100, 95, 85, 70, 50, ... Berapakah angka selanjutnya?",
                opsi: ["20", "25", "30", "35", "40"],
                jawaban: 1, // 25
                jenis: "TIU"
            },
            {
                tanya: "Sebuah pekerjaan dapat diselesaikan oleh 6 orang dalam 10 hari. Jika pekerjaan tersebut harus selesai dalam 5 hari, berapa banyak pekerja tambahan yang dibutuhkan?",
                opsi: ["4 orang", "6 orang", "8 orang", "10 orang", "12 orang"],
                jawaban: 1, // 6 orang (total 12 pekerja, jadi tambahan 6)
                jenis: "TIU"
            },
            {
                tanya: "Jika $x^2 - y^2 = 36$ dan $x - y = 4$, berapakah nilai $x + y$?",
                opsi: ["6", "9", "10", "12", "18"],
                jawaban: 0, // 9
                jenis: "TIU"
            },
            {
                tanya: "Harga sebuah barang naik 25%. Untuk mengembalikan ke harga semula, berapa persen penurunan yang harus dilakukan dari harga yang baru?",
                opsi: ["20%", "25%", "30%", "33.33%", "40%"],
                jawaban: 0, // 20%
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 2, 4, 7, 11, ... Berapakah angka selanjutnya?",
                opsi: ["15", "16", "17", "18", "19"],
                jawaban: 2, // 16
                jenis: "TIU"
            },
            {
                tanya: "Jika $A = \sqrt{81}$ dan $B = 3^3$, maka hubungan antara $A$ dan $B$ adalah...",
                opsi: ["A > B", "A < B", "A = B", "A = 2B", "B = 3A"],
                jawaban: 1, // A < B (A=9, B=27)
                jenis: "TIU"
            },
            {
                tanya: "Seorang ayah memiliki 3 anak. Usia mereka berurutan adalah 8, 10, dan 12 tahun. Jika usia ayah adalah 2 kali jumlah usia ketiga anaknya, berapakah usia ayah?",
                opsi: ["40 tahun", "50 tahun", "60 tahun", "70 tahun", "80 tahun"],
                jawaban: 3, // 60 tahun (8+10+12 = 30, 2*30 = 60)
                jenis: "TIU"
            },
            {
                tanya: "Sebuah kolam renang dapat diisi oleh selang A dalam 6 jam dan selang B dalam 8 jam. Jika selang A dan B digunakan bersama-sama, berapa waktu yang dibutuhkan untuk mengisi 3/4 kolam?",
                opsi: ["2 jam", "2.57 jam", "3 jam", "3.43 jam", "4 jam"],
                jawaban: 1, // 2.57 jam (total = 24/7 jam = 3.43 jam, 3/4nya = 2.57)
                jenis: "TIU"
            },
            {
                tanya: "Jika $P$ adalah 30% dari 150, dan $Q$ adalah 45% dari 100, maka hubungan antara $P$ dan $Q$ adalah...",
                opsi: ["P > Q", "P < Q", "P = Q", "P = 2Q", "Q = 2P"],
                jawaban: 2, // P = Q (P=45, Q=45)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 10, 11, 13, 16, 20, ... Berapakah angka selanjutnya?",
                opsi: ["23", "24", "25", "26", "27"],
                jawaban: 4, // 25
                jenis: "TIU"
            },
            {
                tanya: "Harga sepasang sepatu setelah diskon 20% adalah Rp 240.000. Berapakah harga normal sepatu tersebut?",
                opsi: ["Rp 288.000", "Rp 300.000", "Rp 320.000", "Rp 360.000", "Rp 400.000"],
                jawaban: 1, // Rp 300.000
                jenis: "TIU"
            },
            {
                tanya: "Seorang kontraktor memprediksi pekerjaan akan selesai dalam 20 hari dengan 15 pekerja. Jika 5 pekerja berhenti, berapa lama pekerjaan itu akan selesai?",
                opsi: ["25 hari", "28 hari", "30 hari", "32 hari", "35 hari"],
                jawaban: 2, // 30 hari
                jenis: "TIU"
            },
            {
                tanya: "Jika $A = (2^3)^2$ dan $B = 2^{(3^2)}$, maka hubungan antara $A$ dan $B$ adalah...",
                opsi: ["A > B", "A < B", "A = B", "A = B/2", "B = A/2"],
                jawaban: 1, // A < B (A=64, B=512)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 3, 6, 12, 24, 48, ... Berapakah angka selanjutnya?",
                opsi: ["56", "60", "72", "84", "96"],
                jawaban: 4, // 96
                jenis: "TIU"
            },
            {
                tanya: "Dalam sebuah kotak terdapat 5 bola merah dan 3 bola biru. Jika diambil 2 bola secara acak tanpa pengembalian, berapakah peluang terambilnya kedua bola merah?",
                opsi: ["5/14", "10/28", "25/64", "20/56", "1/4"],
                jawaban: 0, // 5/14
                jenis: "TIU"
            },
            {
                tanya: "Sebuah mobil menghabiskan 1 liter bensin untuk menempuh 12 km. Jika jarak yang ditempuh adalah 300 km, berapa liter bensin yang dibutuhkan?",
                opsi: ["20 liter", "25 liter", "30 liter", "35 liter", "40 liter"],
                jawaban: 1, // 25 liter
                jenis: "TIU"
            },
            {
                tanya: "Jika $2/3 \text{ dari } x \text{ adalah } 40$, berapakah nilai $x$?",
                opsi: ["50", "60", "70", "80", "90"],
                jawaban: 1, // 60
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 1, 2, 3, 5, 8, ... Berapakah angka selanjutnya?",
                opsi: ["11", "12", "13", "14", "15"],
                jawaban: 2, // 13 (Fibonacci)
                jenis: "TIU"
            },
            {
                tanya: "Ahmad memiliki Rp 150.000. Ia membeli buku seharga Rp 45.000 dan alat tulis seharga Rp 30.000. Berapa persen sisa uang Ahmad dari uang semula?",
                opsi: ["20%", "30%", "40%", "50%", "60%"],
                jawaban: 1, // 50% (75000/150000 = 0.5)
                // Koreksi: 150.000 - 45.000 - 30.000 = 75.000. (75.000 / 150.000) * 100% = 50%.
                jawaban: 3, // 50%
                jenis: "TIU"
            },
            {
                tanya: "Suatu pekerjaan dapat diselesaikan oleh A dalam 12 hari dan oleh B dalam 18 hari. Jika A dan B bekerja bersama selama 3 hari, berapa bagian pekerjaan yang tersisa?",
                opsi: ["1/4", "1/2", "5/12", "7/12", "3/4"],
                jawaban: 3, // 7/12
                jenis: "TIU"
            },
            {
                tanya: "Jika $x^2 = 144$ dan $y = \sqrt{169}$, berapakah nilai $x + y$?",
                opsi: ["25", "26", "27", "28", "29"], // x bisa 12 atau -12
                // Asumsi x adalah nilai positif
                jawaban: 0, // 25 (12+13)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 5, 10, 8, 16, 14, 28, ... Berapakah angka selanjutnya?",
                opsi: ["26", "30", "32", "34", "36"],
                jawaban: 0, // 26 (pola x2, -2)
                jenis: "TIU"
            },
            {
                tanya: "Volume sebuah kubus adalah 216 cm³. Berapakah panjang sisi kubus tersebut?",
                opsi: ["4 cm", "5 cm", "6 cm", "7 cm", "8 cm"],
                jawaban: 2, // 6 cm
                jenis: "TIU"
            },
            {
                tanya: "Jika $20\%$ dari suatu angka adalah 40, berapakah $50\%$ dari angka tersebut?",
                opsi: ["80", "100", "120", "150", "200"],
                jawaban: 1, // 100
                jenis: "TIU"
            },
            {
                tanya: "Rata-rata usia 5 orang adalah 25 tahun. Jika satu orang berusia 30 tahun bergabung, berapakah rata-rata usia sekarang?",
                opsi: ["25.5 tahun", "26 tahun", "27 tahun", "27.5 tahun", "28 tahun"],
                jawaban: 1, // 26 tahun
                jenis: "TIU"
            },
            {
                tanya: "Deret: 2, 3, 5, 8, 13, ... Berapakah angka selanjutnya?",
                opsi: ["18", "20", "21", "22", "24"],
                jawaban: 2, // 21 (Fibonacci)
                jenis: "TIU"
            },
            {
                tanya: "Seorang penjahit dapat membuat 15 baju dalam 3 hari. Berapa baju yang dapat dibuat dalam 7 hari?",
                opsi: ["25 baju", "30 baju", "35 baju", "40 baju", "45 baju"],
                jawaban: 2, // 35 baju
                jenis: "TIU"
            },
            {
                tanya: "Jika $1/3 \times 60 + 1/4 \times 80 = X$. Berapakah nilai $X$?",
                opsi: ["30", "40", "50", "60", "70"],
                jawaban: 3, // 40
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 8, 27, 64, ... Berapakah angka selanjutnya?",
                opsi: ["100", "125", "144", "216", "256"],
                jawaban: 1, // 125 (bilangan kubik)
                jenis: "TIU"
            },
            {
                tanya: "Perbandingan kelereng Arman dan Budi adalah 3:5. Jika jumlah kelereng mereka 72, berapa selisih kelereng mereka?",
                opsi: ["18", "24", "27", "36", "45"],
                jawaban: 1, // 18 (2/8 * 72 = 18)
                jenis: "TIU"
            },
            {
                tanya: "Sebuah persegi panjang memiliki panjang 15 cm dan lebar 10 cm. Jika panjangnya diperpanjang 20% dan lebarnya diperpendek 10%, berapakah luas persegi panjang yang baru?",
                opsi: ["135 cm²", "144 cm²", "150 cm²", "162 cm²", "180 cm²"],
                jawaban: 1, // 162 cm² (P_baru = 18, L_baru = 9, L = 162)
                // Koreksi: P_baru = 15 * 1.2 = 18. L_baru = 10 * 0.9 = 9. Luas baru = 18 * 9 = 162.
                jawaban: 3, // 162 cm²
                jenis: "TIU"
            },
            {
                tanya: "Deret: 1, 2, 6, 24, 120, ... Berapakah angka selanjutnya?",
                opsi: ["360", "480", "600", "720", "840"],
                jawaban: 3, // 720 (faktorial)
                jenis: "TIU"
            },
            {
                tanya: "Jika 12 orang dapat membangun rumah dalam 60 hari, berapa hari yang dibutuhkan 18 orang untuk membangun rumah yang sama?",
                opsi: ["30 hari", "40 hari", "45 hari", "50 hari", "55 hari"],
                jawaban: 1, // 40 hari
                jenis: "TIU"
            },
            {
                tanya: "Nilai dari $(2.5 \times 0.4) + (1/2 \div 0.25)$ adalah...",
                opsi: ["1", "2", "2.5", "3", "3.5"],
                jawaban: 2, // 3 (1 + 2 = 3)
                jenis: "TIU"
            },
            {
                tanya: "Deret: 7, 10, 14, 19, 25, ... Berapakah angka selanjutnya?",
                opsi: ["30", "31", "32", "33", "34"],
                jawaban: 2, // 32 (penambahan +3, +4, +5, +6, +7)
                jenis: "TIU"
            },
            {
                tanya: "Sebuah mobil menempuh perjalanan 210 km dengan kecepatan rata-rata 70 km/jam. Jika istirahat selama 30 menit di tengah perjalanan, berapa total waktu perjalanan?",
                opsi: ["3 jam", "3.5 jam", "4 jam", "4.5 jam", "5 jam"],
                jawaban: 1, // 3.5 jam
                jenis: "TIU"
            }
        );

        // Menyesuaikan jumlah soal di info-bar
        const totalSoal = soal.length;
        document.querySelector('.info-bar .info-item:nth-child(2) strong').textContent = 'Jumlah Soal';
        document.querySelector('.info-bar .info-item:nth-child(2)').childNodes[1].textContent = totalSoal;
        document.getElementById("belum").textContent = totalSoal;

        let indeks = 0;
        const jawaban = new Array(soal.length).fill(null);
        let waktuTersisa = 60 * 60; // 60 menit
        let interval;

        function initApp() {
            loadPeserta();
            tampilkanSoal();
            mulaiTimer(waktuTersisa);
        }

        function loadPeserta() {
            const data = JSON.parse(localStorage.getItem("dataPeserta"));
            if (data) {
                document.getElementById("namaPeserta").textContent = data.nama;
                document.getElementById("emailPeserta").textContent = data.email;
            }
        }

        function tampilkanSoal() {
            const s = soal[indeks];
            let opsiHTML = '';
            
            // Logika acak pilihan untuk TIU
            const { opsiAcak, jawabanBenarSetelahAcak } = acakPilihan(s.jawaban, s.opsi);
            s.opsi = opsiAcak;
            s.jawaban = jawabanBenarSetelahAcak;

            opsiHTML = s.opsi.map((o, i) => `
                <div class="option">
                    <label><input type="radio" name="opsi" value="${i}" ${jawaban[indeks] === i ? "checked" : ""}> ${o}</label>
                </div>`).join('');
            
            document.getElementById("soalTeks").innerHTML = `<strong>Soal No. ${indeks + 1} (${s.jenis})</strong><br>${s.tanya}`;
            document.getElementById("opsi").innerHTML = opsiHTML;
            updateNavigasi();
            updateNavSection();
            updateCounter();
        }

        function simpanDanLanjut() {
            const pilih = document.querySelector('input[name="opsi"]:checked');
            if (pilih) jawaban[indeks] = parseInt(pilih.value);
            if (indeks < soal.length - 1) indeks++;
            tampilkanSoal();
        }

        function lewati() {
            if (indeks < soal.length - 1) indeks++;
            tampilkanSoal();
        }

        function navigasiKe(i) {
            indeks = i;
            tampilkanSoal();
        }

        function updateNavigasi() {
            const nav = soal.map((_, i) => `
                <button class="${jawaban[i] !== null ? 'green' : 'red'}" onclick="navigasiKe(${i})">${i + 1}</button>
            `).join('');
            document.getElementById("navigasi").innerHTML = nav;
        }

        function updateNavSection() {
            const sectionNav = [];
            // Hanya ada TIU sekarang
            const sections = ['TIU'];
            sections.forEach((jenis) => {
                const sectionSoal = soal.filter(s => s.jenis === jenis);
                const button = `<button onclick="filterSoal('${jenis}')">${jenis} (${sectionSoal.length})</button>`;
                sectionNav.push(button);
            });
            document.getElementById("navSection").innerHTML = sectionNav.join(' ');
        }

        function updateCounter() {
            const dijawab = jawaban.filter(j => j !== null).length;
            const belum = soal.length - dijawab;
            document.getElementById("dijawab").textContent = dijawab;
            document.getElementById("belum").textContent = belum;

            const btnKirim = document.getElementById("btn-kirim");
            if (belum === 0) {
                btnKirim.style.display = "inline-block";
            } else {
                btnKirim.style.display = "none";
            }
        }

        function filterSoal(jenis) {
            for (let i = 0; i < soal.length; i++) {
                if (soal[i].jenis === jenis) {
                    navigasiKe(i);
                    break;
                }
            }
        }

        function mulaiTimer(waktu) {
            interval = setInterval(function() {
                if (waktu <= 0) {
                    clearInterval(interval);
                    alert("Waktu habis!");
                    konfirmasiSelesai();
                    return;
                }
                waktu--;
                const menit = Math.floor(waktu / 60);
                const detik = waktu % 60;
                document.getElementById("timer").textContent = `${String(menit).padStart(2, '0')}:${String(detik).padStart(2, '0')}`;
            }, 1000);
        }

        function konfirmasiSelesai() {
            if (confirm("Apakah Anda yakin ingin menyelesaikan ujian?")) {
                clearInterval(interval);
                const dataPeserta = JSON.parse(localStorage.getItem("dataPeserta")) || { nama: "-", email: "-" };
                let skorTIU = 0;

                soal.forEach((s, i) => {
                    const jwb = jawaban[i];
                    if (s.jenis === "TIU") {
                        if (jwb === s.jawaban) {
                            skorTIU += 5; // Setiap soal TIU bernilai 5 poin
                        }
                    }
                });

                const hasilUjian = {
                    nama: dataPeserta.nama,
                    email: dataPeserta.email,
                    skorTIU,
                    total: skorTIU // Total skor hanya dari TIU
                };
                localStorage.setItem("hasilUjian", JSON.stringify(hasilUjian));
                window.location.href = "hasil.html";
            }
        }
        
        function kirimJawaban() {
            if (confirm("Semua soal telah dijawab. Kirim jawaban dan lihat hasil?")) {
                clearInterval(interval); // hentikan timer
                const dataPeserta = JSON.parse(localStorage.getItem("dataPeserta")) || { nama: "-", email: "-" };
                let skorTIU = 0;

                soal.forEach((s, i) => {
                    const jwb = jawaban[i];
                    if (s.jenis === "TIU") {
                        if (jwb === s.jawaban) {
                            skorTIU += 5;
                        }
                    }
                });

                const hasilUjian = {
                    nama: dataPeserta.nama,
                    email: dataPeserta.email,
                    skorTIU,
                    total: skorTIU
                };

                localStorage.setItem("hasilUjian", JSON.stringify(hasilUjian));
                window.location.href = "hasil.html";
            }
        }

        localStorage.setItem("paketSoal", "paket1.html");
        
    </script>
</body>
</html>
