<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Latihan Soal TWK CPNS ‚Äì Pancasila</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family: 'Inter', sans-serif;
  background: #f4f6f9;
  color: #1f2937;
}

header {
  background: linear-gradient(135deg, #1e3a8a, #2563eb);
  color: white;
  padding: 35px 20px;
  text-align: center;
}

.container {
  max-width: 900px;
  margin: auto;
  padding: 30px 20px;
}

.card {
  background: white;
  border-radius: 14px;
  padding: 30px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.06);
}

.progress {
  margin-bottom: 20px;
  font-weight: 600;
}

.question {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 20px;
}

.options button {
  display: block;
  width: 100%;
  text-align: left;
  padding: 12px 16px;
  margin-bottom: 10px;
  border-radius: 10px;
  border: 1px solid #e5e7eb;
  background: #f9fafb;
  cursor: pointer;
  transition: all 0.2s ease;
}

.options button:hover {
  background: #eef2ff;
}

.options button.correct {
  background: #dcfce7;
  border-color: #22c55e;
  font-weight: 600;
}

.options button.wrong {
  background: #fee2e2;
  border-color: #ef4444;
}

.explanation {
  margin-top: 20px;
  padding: 15px;
  background: #fef3c7;
  border-left: 5px solid #f59e0b;
  border-radius: 8px;
  display: none;
}

.controls {
  margin-top: 25px;
  text-align: right;
}

.controls button {
  padding: 10px 18px;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  background: #2563eb;
  color: white;
}

.result {
  text-align: center;
  display: none;
}

.result h2 {
  margin-bottom: 10px;
}

.timer {
  font-weight: 700;
  font-size: 16px;
  color: #dc2626;
  margin-bottom: 15px;
}

#gamification {
  margin-top: 10px;
  font-weight: 600;
  animation: pop 0.6s ease;
}

@keyframes pop {
  0% { transform: scale(0.8); }
  100% { transform: scale(1); }
}

/* ===============================
   üìä RESULT DASHBOARD
================================ */
.result {
  display: none;
}

.result-title {
  text-align: center;
  margin-bottom: 25px;
  color: #1e40af;
}

.result-summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 15px;
  margin-bottom: 30px;
}

.summary-box {
  background: #f8fafc;
  border-radius: 12px;
  padding: 18px;
  text-align: center;
  box-shadow: inset 0 0 0 1px #e5e7eb;
}

.summary-box .label {
  display: block;
  font-size: 14px;
  color: #64748b;
  margin-bottom: 6px;
}

.summary-box .value {
  font-size: 22px;
  font-weight: 700;
  color: #0f172a;
}

.result-section {
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid #e5e7eb;
}

.result-section h3 {
  margin-bottom: 12px;
  color: #334155;
}

.result-section ul {
  padding-left: 18px;
}

.result-section li {
  margin-bottom: 8px;
  line-height: 1.6;
}

.result-actions {
  margin-top: 30px;
  text-align: center;
}

.result-actions button {
  background: linear-gradient(135deg, #2563eb, #1e40af);
  color: white;
  padding: 12px 22px;
  border: none;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
}

.result-actions button:hover {
  opacity: 0.9;
}


</style>
</head>

<body>

<header>
  <h1>Latihan Soal TKP CPNS</h1>
  <p>Sosial Budaya ¬∑ Standar CPNS</p>
<div id="gamification">
  ‚≠ê KP: <span id="kp">0</span> |
  üéñÔ∏è Level: <span id="level">1</span>
</div>

</header>

<div class="container">
  <div class="card" id="quiz">
    <div class="timer" id="timer">
  ‚è±Ô∏è Sisa Waktu: <span id="time">20:00</span>
</div>

    <div class="progress" id="progress"></div>
    <div class="question" id="question"></div>
    <div class="options" id="options"></div>
    <div class="explanation" id="explanation"></div>

    <div class="controls">
      <button onclick="nextQuestion()">Soal Berikutnya</button>
    </div>
  </div>

<div class="card result" id="result">

  <h2 class="result-title">üìä Hasil Evaluasi Latihan TKP</h2>

  <!-- RINGKASAN NILAI -->
  <div class="result-summary">
    <div class="summary-box">
      <span class="label">Skor</span>
      <span class="value" id="finalScore">‚Äì</span>
    </div>
    <div class="summary-box">
      <span class="label">Knowledge Point</span>
      <span class="value" id="finalKP">‚Äì</span>
    </div>
    <div class="summary-box">
      <span class="label">Level</span>
      <span class="value" id="finalLevel">‚Äì</span>
    </div>
  </div>

  <!-- ANALITIK -->
  <div class="result-section">
    <h3>üìå Analisis Area TKP</h3>
    <div id="scoreText"></div>
  </div>

  <!-- CTA -->
  <div class="result-actions">
    <button onclick="location.reload()">üîÅ Ulangi Latihan</button>
  </div>

</div>


<script>
/* ===============================
   ‚è±Ô∏è TIMER BKN
================================ */
let totalTime = 20 * 60;
let timerInterval;
let startTime = null;

function startTimer() {
  if (timerInterval) return;

  timerInterval = setInterval(() => {
    totalTime--;

    const min = Math.floor(totalTime / 60);
    const sec = totalTime % 60;
    document.getElementById("time").innerText =
      `${min}:${sec.toString().padStart(2, "0")}`;

    if (totalTime <= 0) {
      clearInterval(timerInterval);
      finishExam();
    }
  }, 1000);
}

/* ===============================
   üìò BANK SOAL (20 SOAL FIX)
================================ */
const questions = [
  /* === ISI BANK SOAL 1‚Äì20 (TETAP SEPERTI SEBELUMNYA) === */
  
/* =================================================
   üìò BANK SOAL TWK
   SOSIAL BUDAYA ‚Äì HOTS EXTREME (CERITA KOMPLEKS)
   LEVEL ELIT / PENALARAN BERLAPIS (20 SOAL)
================================================= */

/* ===== LEVEL EKSTREM (41‚Äì60)
   NARASI PANJANG, KONFLIK NILAI, KEPUTUSAN STRATEGIS ASN
================================ */

{
  q: "Seorang ASN ditugaskan di daerah dengan adat kuat yang melarang kelompok tertentu berbicara dalam forum publik. Dalam musyawarah perencanaan pembangunan, kelompok tersebut tidak diberi ruang menyampaikan aspirasi, meskipun secara hukum mereka memiliki hak yang sama. Sikap ASN paling tepat adalah ‚Ä¶",
  o: [
    "Mengikuti adat agar musyawarah berjalan lancar",
    "Memberikan ruang bicara secara terbatas tanpa melibatkan penuh",
    "Mendorong partisipasi setara dengan pendekatan persuasif berbasis dialog",
    "Membatalkan musyawarah",
    "Menyerahkan sepenuhnya kepada tokoh adat"
  ],
  a: 2,
  e: "Hak setara harus dijamin dengan pendekatan dialog agar tidak menimbulkan konflik sosial.",
  c: "Kesetaraan & Adat Lokal"
},
{
  q: "Dalam pelayanan bantuan sosial, ASN menemukan bahwa masyarakat lokal cenderung memprioritaskan kerabat dan kelompok adat tertentu. Jika ASN mengikuti pola tersebut demi menjaga harmoni, dampak paling berbahaya yang mungkin muncul adalah ‚Ä¶",
  o: [
    "Menurunnya efisiensi penyaluran",
    "Terlanggarnya prinsip keadilan dan kesetaraan",
    "Meningkatnya konflik internal birokrasi",
    "Penolakan dari tokoh adat",
    "Lambatnya pelaporan administrasi"
  ],
  a: 1,
  e: "Mengikuti pola eksklusif melanggar prinsip keadilan sosial.",
  c: "Keadilan Sosial & Diskriminasi"
},
{
  q: "Seorang ASN menghadapi tekanan tokoh masyarakat agar pelayanan dipercepat bagi kelompok tertentu dengan alasan menjaga stabilitas sosial. Penalaran paling tepat bagi ASN adalah ‚Ä¶",
  o: [
    "Stabilitas sosial lebih penting dari aturan",
    "Pelayanan khusus dapat dibenarkan secara kultural",
    "Keadilan substantif harus ditegakkan tanpa diskriminasi",
    "Permintaan tokoh masyarakat selalu mengikat",
    "Pelayanan dapat ditunda"
  ],
  a: 2,
  e: "Keadilan substantif menuntut perlakuan adil tanpa diskriminasi.",
  c: "Tekanan Sosial & Etika ASN"
},
{
  q: "Dalam suatu wilayah multikultural, kebijakan pelayanan tunggal diterapkan tanpa adaptasi budaya. Akibatnya, kelompok tertentu enggan mengakses layanan. Masalah utama dalam kebijakan tersebut adalah ‚Ä¶",
  o: [
    "Kurangnya anggaran",
    "Rendahnya literasi masyarakat",
    "Tidak adanya sensitivitas sosial budaya",
    "Kelemahan regulasi nasional",
    "Minimnya pengawasan internal"
  ],
  a: 2,
  e: "Kebijakan yang tidak sensitif budaya berpotensi eksklusif.",
  c: "Sensitivitas Sosial Budaya"
},
{
  q: "ASN yang beranggapan bahwa konflik sosial adalah hal wajar dan tidak dapat dicegah menunjukkan kekeliruan karena ‚Ä¶",
  o: [
    "Konflik selalu melanggar hukum",
    "Perbedaan sosial dapat dihilangkan",
    "Konflik sering dipicu kegagalan mengelola perbedaan",
    "Masyarakat majemuk harus diseragamkan",
    "Konflik hanya masalah budaya"
  ],
  a: 2,
  e: "Konflik dapat dicegah dengan pengelolaan keberagaman.",
  c: "Manajemen Konflik Sosial"
},
{
  q: "Dalam rapat lintas agama, seorang ASN menghindari topik sensitif demi menjaga ketenangan, namun masalah inti tidak pernah dibahas. Sikap ini menunjukkan ‚Ä¶",
  o: [
    "Toleransi sejati",
    "Netralitas profesional",
    "Penghindaran konflik yang kontraproduktif",
    "Kearifan budaya",
    "Efisiensi musyawarah"
  ],
  a: 2,
  e: "Menghindari substansi masalah bukan bentuk toleransi.",
  c: "Toleransi Semu"
},
{
  q: "Seorang ASN menyamaratakan perilaku masyarakat tertentu berdasarkan kasus ekstrem yang pernah dialaminya. Dampak paling serius dari sikap ini adalah ‚Ä¶",
  o: [
    "Menurunnya kecepatan layanan",
    "Munculnya bias dalam pengambilan keputusan",
    "Terhambatnya koordinasi internal",
    "Kelelahan emosional ASN",
    "Konflik administratif"
  ],
  a: 1,
  e: "Generalisasi memicu bias dan ketidakadilan.",
  c: "Stereotip & Bias"
},
{
  q: "Dalam kondisi darurat sosial, ASN harus memilih antara prosedur formal yang lambat atau diskresi yang berisiko menimbulkan kecemburuan sosial. Pilihan paling tepat adalah ‚Ä¶",
  o: [
    "Menghindari keputusan",
    "Mengutamakan prosedur formal sepenuhnya",
    "Mengambil diskresi transparan dan akuntabel",
    "Menyerahkan pada pihak non-pemerintah",
    "Menghentikan pelayanan"
  ],
  a: 2,
  e: "Diskresi harus dilakukan secara transparan dan akuntabel.",
  c: "Diskresi & Sosial Budaya"
},
{
  q: "ASN yang menolak masukan kelompok minoritas dengan alasan tidak representatif menunjukkan kegagalan dalam prinsip ‚Ä¶",
  o: [
    "Efisiensi",
    "Kepastian hukum",
    "Inklusivitas dan kesetaraan",
    "Hierarki birokrasi",
    "Netralitas politik"
  ],
  a: 2,
  e: "Inklusivitas menuntut keterlibatan semua pihak.",
  c: "Inklusivitas Sosial"
},
{
  q: "Dalam masyarakat yang sensitif isu SARA, pernyataan ASN di media sosial paling berisiko jika ‚Ä¶",
  o: [
    "Bersifat informatif",
    "Mengutip aturan hukum",
    "Mengandung generalisasi identitas kelompok",
    "Disampaikan secara formal",
    "Mengajak dialog"
  ],
  a: 2,
  e: "Generalisasi identitas memicu konflik sosial.",
  c: "Etika Sosial Digital"
},
{
  q: "Sikap profesional ASN dalam konteks sosial budaya paling diuji ketika ‚Ä¶",
  o: [
    "Aturan jelas dan tidak diperdebatkan",
    "Tidak ada tekanan publik",
    "Terjadi benturan nilai adat, hukum, dan keadilan",
    "Pelayanan rutin",
    "Bekerja sendiri"
  ],
  a: 2,
  e: "Benturan nilai menuntut penalaran etis tinggi.",
  c: "Profesionalitas Sosial ASN"
},
{
  q: "Ketika kelompok mayoritas menuntut kebijakan yang merugikan minoritas, ASN harus berpegang pada prinsip bahwa ‚Ä¶",
  o: [
    "Mayoritas selalu benar",
    "Stabilitas lebih penting dari keadilan",
    "Hak minoritas tetap dilindungi",
    "Kebijakan mengikuti tekanan publik",
    "Konflik harus dihindari"
  ],
  a: 2,
  e: "Perlindungan minoritas adalah prinsip negara hukum.",
  c: "Hak Minoritas"
},
{
  q: "Menganggap semua masalah sosial dapat diselesaikan dengan aturan tertulis menunjukkan ‚Ä¶",
  o: [
    "Profesionalitas tinggi",
    "Pemahaman sosial budaya yang dangkal",
    "Kepatuhan hukum",
    "Netralitas birokrasi",
    "Efisiensi administrasi"
  ],
  a: 1,
  e: "Masalah sosial memerlukan pendekatan kontekstual.",
  c: "Pendekatan Sosial Budaya"
},
{
  q: "Dalam pelayanan publik multikultural, keadilan paling tepat dipahami sebagai ‚Ä¶",
  o: [
    "Perlakuan sama tanpa pengecualian",
    "Perlakuan khusus bagi mayoritas",
    "Perlakuan adil sesuai konteks dan kebutuhan",
    "Pelayanan cepat",
    "Kepatuhan administratif"
  ],
  a: 2,
  e: "Keadilan substantif mempertimbangkan konteks sosial.",
  c: "Keadilan Substantif"
},
{
  q: "ASN yang menolak stereotip tidak berarti mengabaikan realitas sosial, melainkan ‚Ä¶",
  o: [
    "Menghindari data lapangan",
    "Menilai individu secara objektif",
    "Menganggap semua sama",
    "Mengikuti intuisi",
    "Menyeragamkan kebijakan"
  ],
  a: 1,
  e: "Objektivitas berarti menilai individu, bukan label.",
  c: "Anti Stereotip"
},
{
  q: "Konflik horizontal yang dibiarkan tanpa penanganan berpotensi berkembang menjadi ‚Ä¶",
  o: [
    "Perbedaan pendapat biasa",
    "Masalah administratif",
    "Disintegrasi sosial",
    "Efisiensi kebijakan",
    "Stabilitas lokal"
  ],
  a: 2,
  e: "Konflik sosial yang dibiarkan dapat merusak persatuan.",
  c: "Risiko Konflik Sosial"
},
{
  q: "Peran paling strategis ASN dalam masyarakat majemuk adalah memastikan bahwa ‚Ä¶",
  o: [
    "Tidak ada perbedaan",
    "Semua aturan ditaati tanpa dialog",
    "Perbedaan dikelola secara adil dan manusiawi",
    "Mayoritas merasa puas",
    "Pelayanan berjalan cepat"
  ],
  a: 2,
  e: "Perbedaan harus dikelola, bukan dihilangkan.",
  c: "Manajemen Keberagaman"
},
{
  q: "Sikap toleran yang berlebihan hingga membiarkan ketidakadilan disebut sebagai ‚Ä¶",
  o: [
    "Empati sosial",
    "Netralitas",
    "Relativisme nilai",
    "Kearifan lokal",
    "Profesionalitas"
  ],
  a: 2,
  e: "Relativisme nilai dapat melemahkan keadilan.",
  c: "Batas Toleransi"
},
{
  q: "Indikator paling kuat keberhasilan ASN dalam mengelola sosial budaya adalah ‚Ä¶",
  o: [
    "Tidak adanya kritik",
    "Cepatnya pelayanan",
    "Terjaganya keadilan, harmoni, dan kepercayaan publik",
    "Kepatuhan administratif",
    "Minimnya konflik internal"
  ],
  a: 2,
  e: "Kepercayaan publik adalah indikator utama.",
  c: "Indikator Keberhasilan Sosial Budaya"
},
{
  q: "Ketika ASN dihadapkan pada dilema sosial budaya tanpa solusi ideal, pilihan paling etis adalah ‚Ä¶",
  o: [
    "Tidak mengambil keputusan",
    "Mengikuti tekanan terkuat",
    "Memilih opsi paling adil dengan dampak paling kecil",
    "Menyerahkan kepada pihak lain",
    "Menunda tanpa batas"
  ],
  a: 2,
  e: "Etika publik menuntut pilihan paling adil dan proporsional.",
  c: "Etika Keputusan Publik"
}


  
];

/* ===============================
   üî¢ STATE & GAMIFIKASI
================================ */
let index = 0;
let score = 0;
let answered = false;
let kp = 0;
let level = 1;
let analytics = {};

/* ===============================
   üéÆ GAMIFICATION UI
================================ */
function updateGamification() {
  document.getElementById("kp").innerText = kp;
  document.getElementById("level").innerText = level;
}

/* ===============================
   üîÄ SHUFFLE OPSI JAWABAN
   (AMAN & TANPA RUSAK BANK SOAL)
================================ */
function shuffleQuestion(question) {
  // pasangkan opsi + status benar
  const paired = question.o.map((text, idx) => ({
    text,
    isCorrect: idx === question.a
  }));

  // Fisher‚ÄìYates shuffle
  for (let i = paired.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [paired[i], paired[j]] = [paired[j], paired[i]];
  }

  // update opsi & index jawaban benar
  question.o = paired.map(p => p.text);
  question.a = paired.findIndex(p => p.isCorrect);

  return question;
}

/* ===============================
   üìÑ LOAD SOAL (OPSINYA DIAKAC)
================================ */
let currentQuestion = null;

function loadQuestion() {
  answered = false;

  // clone soal agar bank asli tidak berubah
  currentQuestion = shuffleQuestion(
    JSON.parse(JSON.stringify(questions[index]))
  );

  document.getElementById("progress").innerText =
    `Soal ${index + 1} dari ${questions.length}`;
  document.getElementById("question").innerText = currentQuestion.q;
  document.getElementById("explanation").style.display = "none";

  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";

  currentQuestion.o.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.innerText = String.fromCharCode(65 + i) + ". " + opt;
    btn.onclick = () => selectAnswer(i);
    optionsDiv.appendChild(btn);
  });

  // start timer hanya sekali
  if (index === 0 && !startTime) {
    startTime = new Date();
    startTimer();
  }
}

/* ===============================
   ‚úÖ PILIH JAWABAN
================================ */
function selectAnswer(i) {
  if (answered) return;
  answered = true;

  const q = currentQuestion;
  const buttons = document.querySelectorAll(".options button");

  buttons.forEach((b, idx) => {
    if (idx === q.a) b.classList.add("correct");
    if (idx === i && i !== q.a) b.classList.add("wrong");
    b.disabled = true;
  });

  if (i === q.a) {
    score += 5;
    kp += 10;
    level = Math.floor(kp / 50) + 1;
    updateGamification();
  } else {
    analytics[q.c] = (analytics[q.c] || 0) + 1;
  }

  const exp = document.getElementById("explanation");
  exp.innerText = q.e;
  exp.style.display = "block";
}

/* ===============================
   ‚ñ∂Ô∏è SOAL BERIKUTNYA
================================ */
function nextQuestion() {
  if (index < questions.length - 1) {
    index++;
    loadQuestion();
  } else {
    finishExam();
  }
}


/* ===============================
   üèÅ SELESAI UJIAN
   ANALITIK + GRAFIK + ADAPTIVE TEST
================================ */
function finishExam() {
  clearInterval(timerInterval);

  const endTime = new Date();
  const durationSec = Math.max(1, Math.floor((endTime - startTime) / 1000));
  const avgTime = durationSec / questions.length;

  const correct = score / 5;
  const wrong = questions.length - correct;
  const errorRate = wrong / questions.length;

  document.getElementById("quiz").style.display = "none";
  document.getElementById("result").style.display = "block";

  document.getElementById("finalScore").innerText =
    `${score} / ${questions.length * 5}`;
  document.getElementById("finalKP").innerText = kp;
  document.getElementById("finalLevel").innerText = level;

  /* ===============================
     üìä GRAFIK AREA LEMAH
  ============================== */
  let graphHTML = "";
  if (Object.keys(analytics).length > 0) {
    const max = Math.max(...Object.values(analytics));
    graphHTML += `<h4>üìä Distribusi Kesalahan</h4>`;
    Object.entries(analytics).forEach(([area, count]) => {
      graphHTML += `
        <div style="margin-bottom:8px">
          <div style="font-size:13px">${area}</div>
          <div style="background:#e5e7eb;border-radius:6px">
            <div style="
              width:${(count/max)*100}%;
              background:linear-gradient(135deg,#f59e0b,#ef4444);
              color:white;
              padding:4px 8px;
              font-size:12px
            ">
              ${count} salah
            </div>
          </div>
        </div>
      `;
    });
  }

  /* ===============================
     üß† ADAPTIVE RECOMMENDATION
  ============================== */
  let focusArea = Object.keys(analytics).length
    ? Object.entries(analytics).sort((a,b)=>b[1]-a[1])[0][0]
    : "Penguatan umum";

  let adaptiveHTML = `<h4>üß† Rekomendasi Latihan Berikutnya</h4><ul>`;

  if (avgTime > 75 && errorRate > 0.3) {
    adaptiveHTML += `
      <li><strong>Profil:</strong> Ragu-ragu</li>
      <li><strong>Fokus:</strong> ${focusArea}</li>
      <li><strong>Mode:</strong> Speed Drill (10 soal)</li>
      <li><strong>Target:</strong> ‚â§ 60 detik/soal</li>
    `;
  } else if (avgTime < 45 && errorRate > 0.4) {
    adaptiveHTML += `
      <li><strong>Profil:</strong> Cepat tapi ceroboh</li>
      <li><strong>Fokus:</strong> Analisis konteks</li>
      <li><strong>Mode:</strong> HOTS Naratif</li>
      <li><strong>Target:</strong> 80‚Äì90 detik/soal</li>
    `;
  } else if (avgTime > 75 && errorRate <= 0.2) {
    adaptiveHTML += `
      <li><strong>Profil:</strong> Akurat tapi lambat</li>
      <li><strong>Fokus:</strong> Efisiensi keputusan</li>
      <li><strong>Mode:</strong> Time-bound Practice</li>
      <li><strong>Target:</strong> 55‚Äì60 detik/soal</li>
    `;
  } else {
    adaptiveHTML += `
      <li><strong>Profil:</strong> Stabil</li>
      <li><strong>Fokus:</strong> Konsistensi</li>
      <li><strong>Mode:</strong> Mini Tryout Adaptif</li>
      <li><strong>Target:</strong> 60‚Äì70 detik/soal</li>
    `;
  }

  adaptiveHTML += `</ul>`;

  document.getElementById("scoreText").innerHTML = `
    ${graphHTML}
    <div style="margin-top:16px">
      ‚è±Ô∏è <strong>Waktu:</strong> ${Math.floor(durationSec/60)} menit ${durationSec%60} detik<br>
      ‚è≥ <strong>Rata-rata:</strong> ${Math.round(avgTime)} detik/soal
    </div>
    <div style="margin-top:16px">${adaptiveHTML}</div>
  `;

  /* ===============================
     üíæ SIMPAN RIWAYAT
  ============================== */
  const history = JSON.parse(localStorage.getItem("twkHistory")) || [];
  history.push({
    date: new Date().toLocaleString(),
    score,
    kp,
    level,
    durationSec,
    avgTime,
    analytics
  });
  localStorage.setItem("twkHistory", JSON.stringify(history));
}

/* ===============================
   üöÄ START
================================ */
loadQuestion();
</script>



</body>
</html>
